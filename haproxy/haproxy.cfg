# mkdir /etc/haproxy
# vi /etc/haproxy/haproxy.conf
global
        log 127.0.0.1 local0
        maxconn 4096
        daemon

defaults
        log global
        mode http
        option httplog
        option dontlognull
        retries 3
        option redispatch
        maxconn 2000
        contimeout 5000
        clitimeout 50000

frontend http-in
        bind *:80
        default_backend servers

backend servers
        option httpchk OPTIONS /
        option forwardfor
        option http-server-close
        appsession JSESSIONID len 52 timeout 3h
        server node1 192.168.99.101:7776 check inter 5000
        server node2 192.168.99.101:7777 check inter 5000
